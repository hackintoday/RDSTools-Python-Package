

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Visualization &mdash; RDS Tools 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=01f34227"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Performance Enhancement" href="performance.html" />
    <link rel="prev" title="Sampling Variance" href="sampling_variance.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            RDS Tools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_processing.html">Data Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="estimation.html">Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="estimation.html#rdsmean-descriptive-statistics">RDSmean - Descriptive Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="estimation.html#rdstable-contingency-tables">RDStable - Contingency Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="estimation.html#rdslm-linear-and-logistic-regression">RDSlm - Linear and Logistic Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_variance.html">Sampling Variance</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_variance.html#rdsboot-standard-bootstrap">RDSboot - Standard Bootstrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_variance.html#rdsbootoptimizedparallel-parallel-bootstrap">RDSBootOptimizedParallel - Parallel Bootstrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_variance.html#bootstrap-methods">Bootstrap Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_variance.html#working-with-results">Working with Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_variance.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#recruitment-networks">Recruitment Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mapping">Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="#helper-functions">Helper Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance Enhancement</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RDS Tools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Visualization</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/visualization.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="visualization">
<h1>Visualization<a class="headerlink" href="#visualization" title="Link to this heading"></a></h1>
<p>The RDS Tools package supports visualization of respondents’ networks and the geographic distribution of recruitment waves starting from seeds. Users can generate network plots to examine recruitment chains overall and by some characteristic, as well as geographic maps that display participant locations and the spread of recruitment over time or across regions. These visualizations aid in understanding the structure of chains and the geographic reach of RDS studies.</p>
<section id="recruitment-networks">
<h2>Recruitment Networks<a class="headerlink" href="#recruitment-networks" title="Link to this heading"></a></h2>
<p>The RDSnetgraph function creates network visualizations showing recruitment relationships between participants.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">RDSTools</span><span class="w"> </span><span class="kn">import</span> <span class="n">RDSnetgraph</span>

<span class="c1"># Basic network graph</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">RDSnetgraph</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">rds_data</span><span class="p">,</span>
    <span class="n">seed_ids</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">],</span>
    <span class="n">waves</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;Spring&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The function supports different layout algorithms:</p>
<ul class="simple">
<li><p><strong>Spring</strong>: Force-directed layout (default, uses igraph)</p></li>
<li><p><strong>Tree</strong>: Hierarchical tree layout (requires pygraphviz, uses NetworkX)</p></li>
<li><p><strong>Circular</strong>: Circular arrangement</p></li>
<li><p><strong>Kamada-Kawai</strong>: Force-directed with uniform edge lengths</p></li>
<li><p><strong>Grid</strong>: Grid-based layout</p></li>
<li><p><strong>Star</strong>: Star-shaped layout</p></li>
<li><p><strong>Random</strong>: Random positioning</p></li>
</ul>
<p>You can color nodes by demographic variables:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Color nodes by demographic variable</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">RDSnetgraph</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">rds_data</span><span class="p">,</span>
    <span class="n">seed_ids</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">],</span>
    <span class="n">waves</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;Spring&#39;</span><span class="p">,</span>
    <span class="n">group_by</span><span class="o">=</span><span class="s1">&#39;Sex&#39;</span><span class="p">,</span>
    <span class="n">node_size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You can save the network graph to a file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save network graph</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">RDSnetgraph</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">rds_data</span><span class="p">,</span>
    <span class="n">seed_ids</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">],</span>
    <span class="n">waves</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;Tree&#39;</span><span class="p">,</span>
    <span class="n">save_path</span><span class="o">=</span><span class="s1">&#39;recruitment_tree.png&#39;</span><span class="p">,</span>
    <span class="n">show_plot</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="mapping">
<h2>Mapping<a class="headerlink" href="#mapping" title="Link to this heading"></a></h2>
<p>When longitude and latitude are available, users can plot distribution of recruitment overall or for each wave. The RDSmap function allows explicit control of the number of waves and seeds in the plot.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">RDSTools</span><span class="w"> </span><span class="kn">import</span> <span class="n">RDSmap</span><span class="p">,</span> <span class="n">get_available_seeds</span><span class="p">,</span> <span class="n">get_available_waves</span><span class="p">,</span> <span class="n">print_map_info</span>

<span class="c1"># Check available data</span>
<span class="n">print_map_info</span><span class="p">(</span><span class="n">rds_data</span><span class="p">,</span> <span class="n">lat_column</span><span class="o">=</span><span class="s1">&#39;Latitude&#39;</span><span class="p">,</span> <span class="n">lon_column</span><span class="o">=</span><span class="s1">&#39;Longitude&#39;</span><span class="p">)</span>

<span class="c1"># Get available seeds and waves</span>
<span class="n">seeds</span> <span class="o">=</span> <span class="n">get_available_seeds</span><span class="p">(</span><span class="n">rds_data</span><span class="p">)</span>
<span class="n">waves</span> <span class="o">=</span> <span class="n">get_available_waves</span><span class="p">(</span><span class="n">rds_data</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Available seeds: </span><span class="si">{</span><span class="n">seeds</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Available waves: </span><span class="si">{</span><span class="n">waves</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Create map</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">RDSmap</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">rds_data</span><span class="p">,</span>
    <span class="n">seed_ids</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">],</span>
    <span class="n">waves</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="n">lat_column</span><span class="o">=</span><span class="s1">&#39;Latitude&#39;</span><span class="p">,</span>
    <span class="n">lon_column</span><span class="o">=</span><span class="s1">&#39;Longitude&#39;</span><span class="p">,</span>
    <span class="n">output_file</span><span class="o">=</span><span class="s1">&#39;recruitment_map.html&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The mapping function creates interactive HTML maps showing:</p>
<ul class="simple">
<li><p>Seed locations (red markers)</p></li>
<li><p>Non-seed locations (blue markers)</p></li>
<li><p>Recruitment relationships (connecting lines for consecutive waves)</p></li>
<li><p>Interactive popups with participant details</p></li>
</ul>
<p>You can customize the map display:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Custom map with specific zoom and auto-open</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">RDSmap</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">rds_data</span><span class="p">,</span>
    <span class="n">seed_ids</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">],</span>
    <span class="n">waves</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="n">lat_column</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span>
    <span class="n">lon_column</span><span class="o">=</span><span class="s1">&#39;long&#39;</span><span class="p">,</span>
    <span class="n">output_file</span><span class="o">=</span><span class="s1">&#39;custom_map.html&#39;</span><span class="p">,</span>
    <span class="n">zoom_start</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">open_browser</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="helper-functions">
<h2>Helper Functions<a class="headerlink" href="#helper-functions" title="Link to this heading"></a></h2>
<dl class="simple">
<dt><strong>get_available_seeds(data)</strong></dt><dd><p>Get list of available seed IDs from RDS data.</p>
</dd>
<dt><strong>get_available_waves(data)</strong></dt><dd><p>Get list of available wave numbers from RDS data.</p>
</dd>
<dt><strong>print_map_info(data, lat_column=’Latitude’, lon_column=’Longitude’)</strong></dt><dd><p>Print summary information about the RDS data for mapping, including available seeds, waves, and coordinate coverage.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sampling_variance.html" class="btn btn-neutral float-left" title="Sampling Variance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="performance.html" class="btn btn-neutral float-right" title="Performance Enhancement" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Jay Kim.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>